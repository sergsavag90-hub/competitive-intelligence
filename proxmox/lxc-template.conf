# Proxmox LXC Container Configuration Template
# For Competitive Intelligence with Selenium Grid
#
# Usage:
#   pct create <VMID> <template> --hostname <hostname> --config <this-file>

##############################################################################
# Basic Container Settings
##############################################################################

# Container type (1 = privileged, 0 = unprivileged)
# Unprivileged is recommended for security
unprivileged: 0

# OS Type
ostype: ubuntu

# Architecture
arch: amd64

##############################################################################
# Resource Allocation
##############################################################################

# CPU cores (adjust based on your needs)
# Recommended: 4-8 cores for production
cores: 4

# CPU units (relative weight for CPU time)
# Default: 1024, higher = more priority
cpuunits: 2048

# CPU limit (percentage)
# 100 = 1 core, 400 = 4 cores at 100%
cpulimit: 4

# Memory (RAM) in MB
# Recommended minimum: 8192 MB (8GB) for Selenium Grid
# Recommended production: 16384 MB (16GB)
memory: 8192

# Swap memory in MB
swap: 4096

##############################################################################
# Storage Configuration
##############################################################################

# Root filesystem size
# Recommended: 50GB minimum
rootfs: local-lvm:50

##############################################################################
# Network Configuration
##############################################################################

# Network interface
# Format: name=<name>,bridge=<bridge>,ip=<ip>,gw=<gateway>
# Example for DHCP:
net0: name=eth0,bridge=vmbr0,firewall=1,ip=dhcp

# Example for static IP:
# net0: name=eth0,bridge=vmbr0,firewall=1,ip=192.168.1.100/24,gw=192.168.1.1

# DNS servers
nameserver: 8.8.8.8 8.8.4.4

# Search domain
searchdomain: local

##############################################################################
# Container Features
##############################################################################

# Enable keyctl (required for some systemd features)
features: keyctl=1,nesting=1

# Nesting: allows running Docker inside LXC
# IMPORTANT: Required for Docker support!

##############################################################################
# Boot Configuration
##############################################################################

# Start on boot
onboot: 1

# Start order (lower starts first)
startup: order=1

##############################################################################
# Console
##############################################################################

# Console mode (shell, console, tty)
console: shell

# TTY count
tty: 2

##############################################################################
# Additional Mounts (Optional)
##############################################################################

# Mount host directory for shared storage
# Uncomment and adjust as needed:
# mp0: /mnt/pve/nfs-storage,mp=/mnt/shared

##############################################################################
# Protection
##############################################################################

# Protect from accidental deletion
protection: 0

##############################################################################
# Comments
##############################################################################

# Description
description: Competitive Intelligence - Selenium Grid Container
             Ubuntu-based LXC container for running Selenium Grid
             with multiple browser nodes and intelligence tools.
             
             Ports:
             - 4444: Selenium Hub
             - 5000: Web Dashboard
             - 7901-7904: VNC ports for browsers
             - 11434: Ollama API
             
             Resources:
             - 4 CPU cores
             - 8GB RAM
             - 50GB storage
